(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=l(n);fetch(n.href,i)}})();const y=document.querySelector("canvas"),o=y.getContext("2d"),O=document.querySelector("span"),p=30,d=21,u=21;y.width=p*d;y.height=p*u;o.scale(p,p);const A=Array.from({length:u},()=>Array(d).fill(1));let t=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],c={x:1,y:0},f=!1,x=0;const s={position:g(),shape:[[1]]};let h=0,w=0;function E(e=0){const r=e-w;if(w=e,h+=r,h>250&&f){const l={x:t[0].x+c.x,y:t[0].y+c.y};t.unshift(l),t.pop(),(b()||k())&&(t=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],c={x:1,y:0},f=!1,s.position=g(),x=0,C()),L()&&(S(),s.position=g(),x++),h=0}T(),window.requestAnimationFrame(E)}function S(){const e={...t[t.length-1]};t.push(e)}function T(){o.fillStyle="#000",o.fillRect(0,0,y.width,y.height),A.forEach((e,r)=>{e.forEach((l,a)=>{l===1&&(o.fillStyle="#b2ff33",o.fillRect(a,r,1,1))})}),o.strokeStyle="#000000",o.lineWidth=.03;for(let e=0;e<=d;e++)o.beginPath(),o.moveTo(e,0),o.lineTo(e,u),o.stroke();for(let e=0;e<=u;e++)o.beginPath(),o.moveTo(0,e),o.lineTo(d,e),o.stroke();o.fillStyle="blue",t.forEach(e=>{o.fillRect(e.x,e.y,1,1)}),s.shape.forEach((e,r)=>{e.forEach((l,a)=>{l&&(o.fillStyle="red",o.fillRect(a+s.position.x,r+s.position.y,1,1))})}),O.innerText=x}document.addEventListener("keydown",e=>{e.key==="ArrowLeft"&&c.x!==1&&(c={x:-1,y:0},f=!0),e.key==="ArrowRight"&&c.x!==-1&&(c={x:1,y:0},f=!0),e.key==="ArrowDown"&&c.y!==-1&&(c={x:0,y:1},f=!0),e.key==="ArrowUp"&&c.y!==1&&(c={x:0,y:-1},f=!0)});function b(){var e;return((e=A[t[0].y])==null?void 0:e[t[0].x])!==1||t[0].y<0||t[0].y>=u||t[0].x<0||t[0].x>=d}function g(){const e=Math.floor(Math.random()*d),r=Math.floor(Math.random()*u);return{x:e,y:r}}function L(){return t[0].x===s.position.x&&t[0].y===s.position.y}function k(){let e=!1;return t.slice(1).forEach(r=>{r.x===t[0].x&&r.y===t[0].y&&(e=!0)}),e}const v=document.querySelector("section");v.addEventListener("click",()=>{E(),v.remove()});function C(){const e=document.createElement("div");e.className="gameOverCss";const r=document.createTextNode("GAME OVER"),l=document.createTextNode("Haz clic para reiniciar");e.appendChild(r),e.appendChild(document.createElement("br")),e.appendChild(l),document.body.appendChild(e),e.style.display="block",document.addEventListener("click",()=>{E(),e.remove()})}
